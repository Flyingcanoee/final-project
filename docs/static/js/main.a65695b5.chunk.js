(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{51:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(20),s=n.n(i),o=(n(51),n(40)),r=n(43),j=n(68),l=n(1);function d(){return Object(l.jsx)(o.a,{className:"navigation",bg:"primary",variant:"dark",children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(o.a.Brand,{href:"/",children:"Pokedex"}),Object(l.jsx)(j.a,{className:"me-auto",children:Object(l.jsx)(j.a.Link,{href:"/caught-pokemons",children:"Caught pokemons"})})]})})}var m=n(25),u=n(8),f=n(9),h=n(34),b=(n(57),n(28));function p(e){return"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(e,".png")}var O=function(e){var t=e.pokemon;return Object(l.jsxs)(b.a,{className:"pokemon-card",style:{width:"18rem"},as:m.b,to:"/pokemon-info/".concat(t.id),children:[Object(l.jsx)("div",{className:"pokemon-card__white-stripe"}),Object(l.jsxs)(b.a.Title,{children:[t.name,Object(l.jsx)("br",{}),Object(l.jsxs)("span",{className:"pokemon-card__id",children:["#",t.id]})]}),Object(l.jsx)(b.a.Img,{variant:"top",src:p(t.id)}),Object(l.jsx)(b.a.Body,{children:Object(l.jsx)(h.a,{className:t.caught?"pokemon-card__caught":"",variant:"primary",onClick:function(n){return e.onClickPokemon(t.id,n)},children:t.caught?"RELEASE":"CATCH"},t.id)})]})};function x(){var e=JSON.parse(localStorage.getItem("myKey"));return e||(e=[]),e}function k(e){var t=x();if(t.find((function(t){return t.id===e}))){var n=t.filter((function(t){return t.id!==e})),c=JSON.stringify(n);localStorage.setItem("myKey",c)}}n(60);var v=n(24);function g(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),s=Object(f.a)(i,2),o=s[0],r=s[1];function j(e,t){t.preventDefault(),t.stopPropagation();var c=x().find((function(t){return t.id===e})),i=n.map((function(t){if(c)t.id===e&&(t.caught=!1,k(e));else if(t.id===e){var n=(new Date).toLocaleDateString(),a=(new Date).toLocaleTimeString();t.caught=!0,function(e,t,n,c){var a=x();if(!a.find((function(t){return t.id===e}))){var i={id:e,dayDate:t,timeDate:n,name:c};a.push(i);var s=JSON.stringify(a);localStorage.setItem("myKey",s)}}(e,n,a,t.name)}return t}));a(i)}return Object(c.useEffect)((function(){var e=x();(function(e,t){return fetch("https://pokeapi.co/api/v2/pokemon?offset=".concat(e,"&limit=").concat(t)).then((function(e){return e.json()}))})(20*o,20).then((function(t){for(var c=function(n){var c=t.results[n],a=c.url.slice(34,-1);c.id=a;var i=e.find((function(e){return e.id===a}));c.caught=Boolean(i)},i=0;i<t.results.length;i++)c(i);return a(n.concat(t.results)),t})).catch((function(e){alert("Couldn't load pokemons."),console.log(e)}))}),[o]),Object(l.jsx)("div",{className:"pokemon-list",children:n.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"pokemon-list__container",children:n.map((function(e){return Object(l.jsx)(O,{pokemon:e,onClickPokemon:j},e.id)}))}),Object(l.jsx)("div",{className:"pokemon-list__btn-container",children:Object(l.jsx)(h.a,{onClick:function(){r(o+1)},className:"pokemon-list__loading",children:"LOAD MORE"})})]}):Object(l.jsx)("div",{className:"pokemon-list__spinner-container",children:Object(l.jsx)(v.a,{animation:"border"})})})}n(61);var _=function(e){return Object(l.jsx)("h1",{className:"header",children:e.children})};var N=function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(_,{children:"Pok\xe9dex"}),Object(l.jsx)(g,{})]})};var y=function(){var e=Object(c.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1];function i(e,t){t.preventDefault(),t.stopPropagation();var c=n.filter((function(t){return t.id!==e}));k(e),a(c)}return Object(c.useEffect)((function(){for(var e=x(),t=0;t<e.length;t++)e[t].img=p(e[t].id),e[t].caught=!0,delete e[t].dayDate,delete e[t].timeDate;a(e)}),[]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(_,{children:"Caught Pokemons"}),n?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"pokemon-container",children:n.map((function(e){return Object(l.jsx)(O,{pokemon:e,onClickPokemon:i},e.id)}))})}):Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)(v.a,{animation:"border"})})]})};n(62);function D(e){return Object(l.jsxs)("div",{className:"pokemon-info-card",children:[Object(l.jsx)("div",{className:"pokemon-info-card__white-stripe"}),Object(l.jsxs)("div",{className:"pokemon-info-card__data",children:[Object(l.jsx)("img",{className:"pokemon-info-card__image",src:p(e.id),alt:"pokemon"}),Object(l.jsxs)("div",{className:"pokemon-info-card__resume",children:[Object(l.jsxs)("h1",{className:"pokemon-info-card__name",children:[e.name," ",Object(l.jsxs)("span",{className:"pokemon-info-card__id",children:["#",e.id]})]}),Object(l.jsxs)("div",{className:"pokemon-info-card__characteristics",children:[Object(l.jsxs)("div",{className:"pokemon-info-card__keys",children:[Object(l.jsx)("p",{className:"pokemon-info-card__info-name",children:"Abilities:"}),Object(l.jsx)("p",{className:"pokemon-info-card__info-name",children:"Types: "}),Object(l.jsx)("p",{className:"pokemon-info-card__info-name",children:"Weight:"}),Object(l.jsx)("p",{className:"pokemon-info-card__info-name",children:"Status:"}),"caught"===e.status?Object(l.jsx)("p",{className:"pokemon-info-card__info-name",children:"Date:"}):""]}),Object(l.jsxs)("div",{className:"pokemon-info-card__values",children:[Object(l.jsx)("p",{children:e.abilities}),Object(l.jsx)("p",{children:e.types}),Object(l.jsx)("p",{children:e.weight}),Object(l.jsxs)("p",{children:[e.status," "]}),"caught"===e.status?Object(l.jsxs)(l.Fragment,{children:[e.dayDate," ",Object(l.jsx)("br",{})," ",Object(l.jsx)("br",{}),e.timeDate]}):""]})]})]})]})]})}var S=function(){var e=Object(u.f)().id,t=Object(c.useState)(null),n=Object(f.a)(t,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){(function(e){return fetch("https://pokeapi.co/api/v2/pokemon/".concat(e,"/")).then((function(e){return e.json()}))})(e).then((function(t){for(var n=t.abilities,c="",a=0;a<n.length;a++)c+=n[a].ability.name+" ";for(var s=t.types,o="",r=0;r<s.length;r++)o+=s[r].type.name+" ";var j={name:t.name,types:o,weight:t.weight,abilities:c},l=x().find((function(t){return t.id===e}));return l?(j.status="caught",j.dayDate=l.dayDate,j.timeDate=l.timeDate):j.status="free",i(j),j})).catch((function(e){alert("Couldn't load pokemons."),console.log(e)}))}),[]),Object(l.jsx)("div",{className:"pokemon-info",children:a?Object(l.jsx)(D,{id:e,status:a.status,name:a.name,abilities:a.abilities,weight:a.weight,dayDate:a.dayDate,timeDate:a.timeDate,types:a.types}):Object(l.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(l.jsx)(v.a,{animation:"border"})})})};var w=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(m.a,{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/caught-pokemons",children:Object(l.jsx)(y,{})}),Object(l.jsx)(u.a,{path:"/pokemon-info/:id",children:Object(l.jsx)(S,{})}),Object(l.jsx)(u.a,{path:"/",children:Object(l.jsx)(N,{})})]})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n(63),n(64);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),C()}},[[65,1,2]]]);
//# sourceMappingURL=main.a65695b5.chunk.js.map